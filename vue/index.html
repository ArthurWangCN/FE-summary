<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | 前端知识汇总</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/FE-summary/favicon.ico">
    <meta name="description" content="FE summary">
    <link rel="preload" href="/FE-summary/assets/css/0.styles.9735f572.css" as="style"><link rel="preload" href="/FE-summary/assets/js/app.3424d683.js" as="script"><link rel="preload" href="/FE-summary/assets/js/2.ac02c601.js" as="script"><link rel="preload" href="/FE-summary/assets/js/17.4d640116.js" as="script"><link rel="prefetch" href="/FE-summary/assets/js/10.9968b558.js"><link rel="prefetch" href="/FE-summary/assets/js/11.85a6b5cf.js"><link rel="prefetch" href="/FE-summary/assets/js/12.333f7dd5.js"><link rel="prefetch" href="/FE-summary/assets/js/13.d092e156.js"><link rel="prefetch" href="/FE-summary/assets/js/14.fb90977c.js"><link rel="prefetch" href="/FE-summary/assets/js/15.9aff105b.js"><link rel="prefetch" href="/FE-summary/assets/js/16.dfab1af9.js"><link rel="prefetch" href="/FE-summary/assets/js/3.bb8e7b2f.js"><link rel="prefetch" href="/FE-summary/assets/js/4.8bc909cc.js"><link rel="prefetch" href="/FE-summary/assets/js/5.ec7f9d8e.js"><link rel="prefetch" href="/FE-summary/assets/js/6.91f9d262.js"><link rel="prefetch" href="/FE-summary/assets/js/7.4be9d270.js"><link rel="prefetch" href="/FE-summary/assets/js/8.7de7a995.js"><link rel="prefetch" href="/FE-summary/assets/js/9.d7908fdf.js">
    <link rel="stylesheet" href="/FE-summary/assets/css/0.styles.9735f572.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/FE-summary/" class="home-link router-link-active"><!----> <span class="site-name">前端知识汇总</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/FE-summary/basic/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/FE-summary/advance/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/FE-summary/high/" class="nav-link">
  高阶
</a></div><div class="nav-item"><a href="/FE-summary/vue/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/FE-summary/common/" class="nav-link">
  通识
</a></div><div class="nav-item"><a href="/FE-summary/distillation/" class="nav-link">
  精华
</a></div><div class="nav-item"><a href="/FE-summary/skill/" class="nav-link">
  技巧
</a></div><div class="nav-item"><a href="/FE-summary/comprehensive/" class="nav-link">
  综合
</a></div><div class="nav-item"><a href="/FE-summary/blog/" class="nav-link">
  本站搭建
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/FE-summary/basic/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/FE-summary/advance/" class="nav-link">
  进阶
</a></div><div class="nav-item"><a href="/FE-summary/high/" class="nav-link">
  高阶
</a></div><div class="nav-item"><a href="/FE-summary/vue/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/FE-summary/common/" class="nav-link">
  通识
</a></div><div class="nav-item"><a href="/FE-summary/distillation/" class="nav-link">
  精华
</a></div><div class="nav-item"><a href="/FE-summary/skill/" class="nav-link">
  技巧
</a></div><div class="nav-item"><a href="/FE-summary/comprehensive/" class="nav-link">
  综合
</a></div><div class="nav-item"><a href="/FE-summary/blog/" class="nav-link">
  本站搭建
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue篇</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE-summary/vue/" aria-current="page" class="active sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE-summary/vue/#vue源码解析" class="sidebar-link">Vue源码解析</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue"><a href="#vue" class="header-anchor">#</a> Vue</h1> <h2 id="vue源码解析"><a href="#vue源码解析" class="header-anchor">#</a> Vue源码解析</h2> <h3 id="_1、关于flow"><a href="#_1、关于flow" class="header-anchor">#</a> 1、关于Flow</h3> <blockquote><p>Flow 是 facebook 出品的 JavaScript 静态类型检查工具，Vue.js 的源码利用了 Flow 做了静态类型检查 。</p></blockquote> <ul><li><p>为什么选择Flow？</p> <p>之所以 选择 Flow，主要是因为 Babel 和 ESLint 都有对应的 Flow 插件以支持语法，可以完全沿用现有的构建 配置，非常小成本的改动就可以拥有静态类型检查的能力。</p></li> <li><p>工作方式：</p> <ul><li>类型推断：通过变量的使用上下文来推断出变量类型，然后根据这些推断来检查类型。</li> <li>类型注释：事先注释好我们期待的类型，Flow 会基于这些注释来判断。</li></ul></li></ul> <h3 id="_2、runtime-only-vs-runtime-compiler"><a href="#_2、runtime-only-vs-runtime-compiler" class="header-anchor">#</a> 2、Runtime Only VS Runtime+Compiler</h3> <ul><li><p>Runtime Only：</p> <p>我们在使用 Runtime Only 版本的 Vue.js 的时候，通常需要借助如 webpack 的 vue-loader 工具把 .vue 文件编译成 JavaScript，因为是在编译阶段做的，所以它只包含运行时的 Vue.js 代码，因此代码体积也会 更轻量。</p></li> <li><p>Runtime+Compiler</p></li></ul> <p>我们如果没有对代码做预编译，但又使用了 Vue 的 template 属性并传入一个字符串，则需要在客户端 编译模板。</p> <h3 id="_3、为什么-vue-不用-es6-的-class-去实现-？"><a href="#_3、为什么-vue-不用-es6-的-class-去实现-？" class="header-anchor">#</a> 3、为什么 Vue 不用 ES6 的 Class 去实现 ？</h3> <p>Vue  实际上就是一个用 Function 实现的类，我们只能通过 new Vue 去实例化它。</p> <p>往后看这里有很多 xxxMixin 的函数调用，并把 Vue 当参数传入，它们的功能都是给 Vue 的 prototype 上扩展一些方法，Vue 按功能把这些扩展分散到多个模块中去实现，而不是在一个模块里实现所有，这种方式是用 Class 难以实现的。这么做的好处是非常方便代码的维护和管理。</p> <h3 id="_4、vue-cli3中vue-config-js配置"><a href="#_4、vue-cli3中vue-config-js配置" class="header-anchor">#</a> 4、Vue-CLI3中vue.config.js配置</h3> <p>在使用vue-cli3创建项目后，因为webpack的配置均被隐藏了，当你需要覆盖原有的配置时，则需要在项目的根目录下，新建vue.config.js文件，来配置新的配置。</p> <p>vue.config.js 会被自动加载：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 部署生产环境和开发环境下的URL：可对当前环境进行区分，baseUrl 从 Vue CLI 3.3 起已弃用，要使用publicPath */</span> 
    <span class="token comment">/* baseUrl: process.env.NODE_ENV === 'production' ? './' : '/' */</span>
    publicPath<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'/public/'</span> <span class="token operator">:</span> <span class="token string">'./'</span><span class="token punctuation">,</span>
    <span class="token comment">/* 输出文件目录：在npm run build时，生成文件的目录名称 */</span>
    outputDir<span class="token operator">:</span> <span class="token string">'dist'</span><span class="token punctuation">,</span>
    <span class="token comment">/* 放置生成的静态资源 (js、css、img、fonts) 的 (相对于 outputDir 的) 目录 */</span>
    assetsDir<span class="token operator">:</span> <span class="token string">&quot;assets&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">/* 是否在构建生产包时生成 sourceMap 文件，false将提高构建速度 */</span>
    productionSourceMap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">/* 默认情况下，生成的静态资源在它们的文件名中包含了 hash 以便更好的控制缓存，你可以通过将这个选项设为 false 来关闭文件名哈希。(false的时候就是让原来的文件名不改变) */</span>
    filenameHashing<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token comment">/* 代码保存时进行eslint检测 */</span>
    lintOnSave<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">/* webpack-dev-server 相关配置 */</span>
    devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">/* 自动打开浏览器 */</span>
        open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">/* 设置为0.0.0.0则所有的地址均能访问 */</span>
        host<span class="token operator">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span>
        port<span class="token operator">:</span> <span class="token number">8066</span><span class="token punctuation">,</span>
        https<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        hotOnly<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">/* 使用代理 */</span>
        proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token comment">/* 目标代理服务器地址 */</span>
                target<span class="token operator">:</span> <span class="token string">'http://47.100.47.3/'</span><span class="token punctuation">,</span>
                <span class="token comment">/* 允许跨域 */</span>
                changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/FE-summary/assets/js/app.3424d683.js" defer></script><script src="/FE-summary/assets/js/2.ac02c601.js" defer></script><script src="/FE-summary/assets/js/17.4d640116.js" defer></script>
  </body>
</html>
